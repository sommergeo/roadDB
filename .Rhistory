road_locality('Germany', 'Europe')
road_locality(continent = 'Europe')
road_locality('', 'Europe')
is.vector('Europe')
is.vector('Europe', mode='char')
is.vector('Europe', mode='character')
is.vector(c('Europe','Africa'), mode='character')
is.vector(c('Europe','Africa'), mode='list')
install.packages("assertthat")
library(assertthat)
is.string('Europe')
is.string(c('Europe', 'Africa'))
road_locality <- function(country="'%'", continent="'%'"){
# Connect do ROAD
con <- dbConnect(RPostgres::Postgres(), dbname = "roceeh", host="134.2.216.14", port=5432, user=rstudioapi::askForPassword("Database username"), password=rstudioapi::askForPassword("Database password"))
country <- paste0("'",country,"'")
continent <- paste0("'",continent,"'")
if(continent==''){
continent <- "'%'"
}if(is.string(continent)){
if(continent==''){
continent <- "'%'"
}if(is.string(continent)){
if(continent==''){
continent <- "'%'"
}else(is.string(continent)){
if(continent==''){
continent <- "'%'"
else(is.string(continent)){
if(continent==''){
continent <- "'%'"}
if(continent==''){
continent <- "'%'"
}else if(is.string(continent)){
continent <- paste0("('",continent,"')")
}
continent='Africa'
if(continent==''){
continent <- "'%'"
}else if(is.string(continent)){
continent <- paste0("('",continent,"')")
}
continent <- ''
if(continent==''){
continent <- "'%'"
}else if(is.string(continent)){
continent <- paste0("('",continent,"')")
}
is.list(continent)
is.list(c('A', 'B'))
continent('A','B')
continent <- c('A','B')
continent <- paste0("(", paste(sapply(continent, function(x) paste0("'", x, "'")), collapse = ", "), ")")
continent <- c('A','B')
continent <- c('Africa','Europe')
continent <- paste0("(", paste(sapply(continent, function(x) paste0("'", x, "'")), collapse = ", "), ")")
continent <- c('Africa','Europe')
continent <- paste0("(", paste(sapply(continent, function(x) paste0("'", x, "'")), collapse = ", "), ")")
continent <- c('Africa','Europe')
if(continent==''){
continent <- "'%'"
}else if(is.string(continent)){
continent <- paste0("('",continent,"')")
}else if(is.vector(contient)){
continent <- paste0("(", paste(sapply(continent, function(x) paste0("'", x, "'")), collapse = ", "), ")")
}
if(continent==''){
continent <- "'%'"
}else if(is.string(continent)){
continent <- paste0("('",continent,"')")
}else if(is.vector(continent)){
continent <- paste0("(", paste(sapply(continent, function(x) paste0("'", x, "'")), collapse = ", "), ")")
}
is.string(continent)
if(is.string(continent) && continent==''){
continent <- "'%'"
}else if(is.string(continent)){
continent <- paste0("('",continent,"')")
}else if(is.vector(continent)){
continent <- paste0("(", paste(sapply(continent, function(x) paste0("'", x, "'")), collapse = ", "), ")")
}
continent <- ""
if(is.string(continent) && continent==''){
continent <- "continent ILIKE '%'"
}else if(is.string(continent)){
continent <- paste0("continent IN ('",continent,"')")
}else if(is.vector(continent)){
continent <- paste0("continent IN (", paste(sapply(continent, function(x) paste0("'", x, "'")), collapse = ", "), ")")
}
continent <- "Africa"
if(is.string(continent) && continent==''){
continent <- "continent ILIKE '%'"
}else if(is.string(continent)){
continent <- paste0("continent IN ('",continent,"')")
}else if(is.vector(continent)){
continent <- paste0("continent IN (", paste(sapply(continent, function(x) paste0("'", x, "'")), collapse = ", "), ")")
}
continent <- c("Africa", "Europe")
if(is.string(continent) && continent==''){
continent <- "continent ILIKE '%'"
}else if(is.string(continent)){
continent <- paste0("continent IN ('",continent,"')")
}else if(is.vector(continent)){
continent <- paste0("continent IN (", paste(sapply(continent, function(x) paste0("'", x, "'")), collapse = ", "), ")")
}
country <- ''
if(is.string(country) && country==''){
country <- "country ILIKE '%'"
}else if(is.string(country)){
country <- paste0("country IN ('",country,"')")
}else if(is.vector(country)){
country <- paste0("country IN (", paste(sapply(country, function(x) paste0("'", x, "'")), collapse = ", "), ")")
}
country <- 'Germany'
if(is.string(country) && country==''){
country <- "country ILIKE '%'"
}else if(is.string(country)){
country <- paste0("country IN ('",country,"')")
}else if(is.vector(country)){
country <- paste0("country IN (", paste(sapply(country, function(x) paste0("'", x, "'")), collapse = ", "), ")")
}
country <- c('Germany', 'France)'
country <- c('Germany', 'France')
if(is.string(country) && country==''){
country <- "country ILIKE '%'"
}else if(is.string(country)){
country <- paste0("country IN ('",country,"')")
}else if(is.vector(country)){
country <- paste0("country IN (", paste(sapply(country, function(x) paste0("'", x, "'")), collapse = ", "), ")")
}
road_locality <- function(country="'%'", continent="'%'"){
# Connect do ROAD
con <- dbConnect(RPostgres::Postgres(), dbname = "roceeh", host="134.2.216.14", port=5432, user=rstudioapi::askForPassword("Database username"), password=rstudioapi::askForPassword("Database password"))
country <- paste0("'",country,"'")
continent <- paste0("'",continent,"'")
if(is.string(country) && country==''){
country <- "country ILIKE '%'"
}else if(is.string(country)){
country <- paste0("country IN ('",country,"')")
}else if(is.vector(country)){
country <- paste0("country IN (", paste(sapply(country, function(x) paste0("'", x, "'")), collapse = ", "), ")")
}
if(is.string(continent) && continent==''){
continent <- "continent ILIKE '%'"
}else if(is.string(continent)){
continent <- paste0("continent IN ('",continent,"')")
}else if(is.vector(continent)){
continent <- paste0("continent IN (", paste(sapply(continent, function(x) paste0("'", x, "'")), collapse = ", "), ")")
}
#query_locality <- "SELECT * FROM locality, geopolitical_units WHERE country=geopolitical_name AND rank=1 AND country ILIKE 'Germany' AND continent ILIKE 'Europe'"
query_locality <- "SELECT * FROM locality, geopolitical_units WHERE country=geopolitical_name AND rank=1 AND %s AND %s"
query <- sprintf(query_locality, country, continent)
# Run the query
dat <- dbGetQuery(con, query)
}
road_locality('Germany', 'Europe')
#query_locality <- "SELECT * FROM locality, geopolitical_units WHERE country=geopolitical_name AND rank=1 AND country ILIKE 'Germany' AND continent ILIKE 'Europe'"
query_locality <- "SELECT * FROM locality, geopolitical_units WHERE country=geopolitical_name AND rank=1 AND %s AND %s"
query <- sprintf(query_locality, country, continent)
query
rm(county, continent)
rm(country, continent)
road_locality <- function(country="'%'", continent="'%'"){
# Connect do ROAD
con <- dbConnect(RPostgres::Postgres(), dbname = "roceeh", host="134.2.216.14", port=5432, user=rstudioapi::askForPassword("Database username"), password=rstudioapi::askForPassword("Database password"))
country <- paste0("'",country,"'")
continent <- paste0("'",continent,"'")
if(is.string(country) && country==''){
country <- "country ILIKE '%'"
}else if(is.string(country)){
country <- paste0("country IN ('",country,"')")
}else if(is.vector(country)){
country <- paste0("country IN (", paste(sapply(country, function(x) paste0("'", x, "'")), collapse = ", "), ")")
}
if(is.string(continent) && continent==''){
continent <- "continent ILIKE '%'"
}else if(is.string(continent)){
continent <- paste0("continent IN ('",continent,"')")
}else if(is.vector(continent)){
continent <- paste0("continent IN (", paste(sapply(continent, function(x) paste0("'", x, "'")), collapse = ", "), ")")
}
#query_locality <- "SELECT * FROM locality, geopolitical_units WHERE country=geopolitical_name AND rank=1 AND country ILIKE 'Germany' AND continent ILIKE 'Europe'"
query_locality <- "SELECT * FROM locality, geopolitical_units WHERE country=geopolitical_name AND rank=1 AND %s AND %s"
query <- sprintf(query_locality, country, continent)
# Run the query
dat <- dbGetQuery(con, query)
}
road_locality('Germany', 'Europe')
query
library(tidyverse)
library(sf)
library(RPostgreSQL)
library(RPostgres)
library(assertthat)
road_locality <- function(country="'%'", continent="'%'"){
# Connect do ROAD
con <- dbConnect(RPostgres::Postgres(), dbname = "roceeh", host="134.2.216.14", port=5432, user=rstudioapi::askForPassword("Database username"), password=rstudioapi::askForPassword("Database password"))
country <- paste0("'",country,"'")
continent <- paste0("'",continent,"'")
if(is.string(country) && country==''){
country <- "country ILIKE '%'"
}else if(is.string(country)){
country <- paste0("country IN ('",country,"')")
}else if(is.vector(country)){
country <- paste0("country IN (", paste(sapply(country, function(x) paste0("'", x, "'")), collapse = ", "), ")")
}
if(is.string(continent) && continent==''){
continent <- "continent ILIKE '%'"
}else if(is.string(continent)){
continent <- paste0("continent IN ('",continent,"')")
}else if(is.vector(continent)){
continent <- paste0("continent IN (", paste(sapply(continent, function(x) paste0("'", x, "'")), collapse = ", "), ")")
}
#query_locality <- "SELECT * FROM locality, geopolitical_units WHERE country=geopolitical_name AND rank=1 AND country ILIKE 'Germany' AND continent ILIKE 'Europe'"
query_locality <- "SELECT * FROM locality, geopolitical_units WHERE country=geopolitical_name AND rank=1 AND %s AND %s"
query <- sprintf(query_locality, country, continent)
# Run the query
dat <- dbGetQuery(con, query)
}
road_locality('Germany', 'Europe')
road_locality(c('France'), c('Europe'))
road_locality <- function(country="'%'", continent="'%'"){
# Connect do ROAD
con <- dbConnect(RPostgres::Postgres(), dbname = "roceeh", host="134.2.216.14", port=5432, user=rstudioapi::askForPassword("Database username"), password=rstudioapi::askForPassword("Database password"))
country <- paste0("'",country,"'")
continent <- paste0("'",continent,"'")
if(is.string(country) && country==''){
country <- "country ILIKE '%'"
}else if(is.string(country)){
country <- paste0("country IN ('",country,"')")
}else if(is.vector(country)){
country <- paste0("country IN (", paste(sapply(country, function(x) paste0("'", x, "'")), collapse = ", "), ")")
}
print(country)
if(is.string(continent) && continent==''){
continent <- "continent ILIKE '%'"
}else if(is.string(continent)){
continent <- paste0("continent IN ('",continent,"')")
}else if(is.vector(continent)){
continent <- paste0("continent IN (", paste(sapply(continent, function(x) paste0("'", x, "'")), collapse = ", "), ")")
}
print(continent)
#query_locality <- "SELECT * FROM locality, geopolitical_units WHERE country=geopolitical_name AND rank=1 AND country ILIKE 'Germany' AND continent ILIKE 'Europe'"
query_locality <- "SELECT * FROM locality, geopolitical_units WHERE country=geopolitical_name AND rank=1 AND %s AND %s"
query <- sprintf(query_locality, country, continent)
print(query)
# Run the query
dat <- dbGetQuery(con, query)
}
road_locality(c('France'), c('Europe'))
road_locality <- function(country="'%'", continent="'%'"){
# Connect do ROAD
con <- dbConnect(RPostgres::Postgres(), dbname = "roceeh", host="134.2.216.14", port=5432, user=rstudioapi::askForPassword("Database username"), password=rstudioapi::askForPassword("Database password"))
country <- paste0("'",country,"'")
continent <- paste0("'",continent,"'")
if(is.string(country) && country==''){
country <- "country ILIKE '%'"
}else if(is.string(country)){
country <- paste0("country IN ('",country,"')")
}else if(is.vector(country)){
country <- paste0("country IN (", paste(sapply(country, function(x) paste0("'", x, "'")), collapse = ", "), ")")
}
print(country)
if(is.string(continent) && continent==''){
continent <- "continent ILIKE '%'"
}else if(is.string(continent)){
continent <- paste0("continent IN ('",continent,"')")
}else if(is.vector(continent)){
continent <- paste0("continent IN (", paste(sapply(continent, function(x) paste0("", x, "")), collapse = ", "), ")")
}
print(continent)
#query_locality <- "SELECT * FROM locality, geopolitical_units WHERE country=geopolitical_name AND rank=1 AND country ILIKE 'Germany' AND continent ILIKE 'Europe'"
query_locality <- "SELECT * FROM locality, geopolitical_units WHERE country=geopolitical_name AND rank=1 AND %s AND %s"
query <- sprintf(query_locality, country, continent)
print(query)
# Run the query
dat <- dbGetQuery(con, query)
}
road_locality(c('France'), c('Europe'))
road_locality <- function(country="'%'", continent="'%'"){
# Connect do ROAD
con <- dbConnect(RPostgres::Postgres(), dbname = "roceeh", host="134.2.216.14", port=5432, user=rstudioapi::askForPassword("Database username"), password=rstudioapi::askForPassword("Database password"))
country <- paste0("'",country,"'")
continent <- paste0("'",continent,"'")
if(is.string(country) && country==''){
country <- "country ILIKE '%'"
}else if(is.string(country)){
country <- paste0("country IN ('",country,"')")
}else if(is.vector(country)){
country <- paste0("country IN (", paste(sapply(country, function(x) paste0("", x, "")), collapse = ", "), ")")
}
print(country)
if(is.string(continent) && continent==''){
continent <- "continent ILIKE '%'"
}else if(is.string(continent)){
continent <- paste0("continent IN ('",continent,"')")
}else if(is.vector(continent)){
continent <- paste0("continent IN (", paste(sapply(continent, function(x) paste0("", x, "")), collapse = ", "), ")")
}
print(continent)
#query_locality <- "SELECT * FROM locality, geopolitical_units WHERE country=geopolitical_name AND rank=1 AND country ILIKE 'Germany' AND continent ILIKE 'Europe'"
query_locality <- "SELECT * FROM locality, geopolitical_units WHERE country=geopolitical_name AND rank=1 AND %s AND %s"
query <- sprintf(query_locality, country, continent)
print(query)
# Run the query
dat <- dbGetQuery(con, query)
}
road_locality(c('France'), c('Europe'))
road_locality <- function(country="'%'", continent="'%'"){
# Connect do ROAD
con <- dbConnect(RPostgres::Postgres(), dbname = "roceeh", host="134.2.216.14", port=5432, user=rstudioapi::askForPassword("Database username"), password=rstudioapi::askForPassword("Database password"))
country <- paste0("'",country,"'")
continent <- paste0("'",continent,"'")
if(is.string(country) && country==''){
country <- "country ILIKE '%'"
}else if(is.string(country)){
country <- paste0("country IN ('",country,"')")
}else if(is.vector(country)){
country <- paste0("country IN (", paste(sapply(country, function(x) paste0("", x, "")), collapse = ", "), ")")
}
print(country)
if(is.string(continent) && continent==''){
continent <- "continent ILIKE '%'"
}else if(is.string(continent)){
continent <- paste0("continent IN ('",continent,"')")
print(continent)
}else if(is.vector(continent)){
continent <- paste0("continent IN (", paste(sapply(continent, function(x) paste0("", x, "")), collapse = ", "), ")")
print(continent)
}
#query_locality <- "SELECT * FROM locality, geopolitical_units WHERE country=geopolitical_name AND rank=1 AND country ILIKE 'Germany' AND continent ILIKE 'Europe'"
query_locality <- "SELECT * FROM locality, geopolitical_units WHERE country=geopolitical_name AND rank=1 AND %s AND %s"
query <- sprintf(query_locality, country, continent)
print(query)
# Run the query
dat <- dbGetQuery(con, query)
}
road_locality(c('France'), c('Europe'))
road_locality <- function(country="'%'", continent="'%'"){
# Connect do ROAD
con <- dbConnect(RPostgres::Postgres(), dbname = "roceeh", host="134.2.216.14", port=5432, user=rstudioapi::askForPassword("Database username"), password=rstudioapi::askForPassword("Database password"))
country <- paste0("'",country,"'")
continent <- paste0("'",continent,"'")
if(is.string(country) && country==''){
country <- "country ILIKE '%'"
}else if(is.string(country)){
country <- paste0("country IN ('",country,"')")
}else if(is.vector(country)){
country <- paste0("country IN (", paste(sapply(country, function(x) paste0("", x, "")), collapse = ", "), ")")
}
print(country)
if(is.string(continent) && continent==''){
continent <- "continent ILIKE '%'"
}else if(is.string(continent)){
continent <- paste0("continent IN ('",continent,"')")
print('clause1')
}else if(is.vector(continent)){
continent <- paste0("continent IN (", paste(sapply(continent, function(x) paste0("", x, "")), collapse = ", "), ")")
print('clause2')
}
#query_locality <- "SELECT * FROM locality, geopolitical_units WHERE country=geopolitical_name AND rank=1 AND country ILIKE 'Germany' AND continent ILIKE 'Europe'"
query_locality <- "SELECT * FROM locality, geopolitical_units WHERE country=geopolitical_name AND rank=1 AND %s AND %s"
query <- sprintf(query_locality, country, continent)
print(query)
# Run the query
dat <- dbGetQuery(con, query)
}
road_locality(c('France'), c('Europe'))
is.string('France')
is.string(c('France'))
is.vector(c('France'), mode=character)
is.vector(c('France'), mode='character')
is.vector('France')
is.character('France')
is.character(c('France'))
is.list(c('France'))
list('x')
is.list('x')
is.array(c('France'))
length('Fracne')
length(c('Fracne'))
length(c('Fracne', 'Germany'))
continent <- 'Europe'
if(is.string(continent) && continent==''){
continent <- "continent ILIKE '%'"
}else if(is.string(continent) && length(continent)==1){
continent <- paste0("continent IN ('",continent,"')")
print('clause1')
}else if(is.string(continent) && length(continent) >1){
continent <- paste0("continent IN (", paste(sapply(continent, function(x) paste0("", x, "")), collapse = ", "), ")")
print('clause2')
}
continent <- c('Europe')
if(is.string(continent) && continent==''){
continent <- "continent ILIKE '%'"
}else if(is.string(continent) && length(continent)==1){
continent <- paste0("continent IN ('",continent,"')")
print('clause1')
}else if(is.string(continent) && length(continent) >1){
continent <- paste0("continent IN (", paste(sapply(continent, function(x) paste0("", x, "")), collapse = ", "), ")")
print('clause2')
}
continent <- c('Europe', 'France')
if(is.string(continent) && continent==''){
continent <- "continent ILIKE '%'"
}else if(is.string(continent) && length(continent)==1){
continent <- paste0("continent IN ('",continent,"')")
print('clause1')
}else if(is.string(continent) && length(continent) >1){
continent <- paste0("continent IN (", paste(sapply(continent, function(x) paste0("", x, "")), collapse = ", "), ")")
print('clause2')
}
if(is.string(continent) && continent==''){
continent <- "continent ILIKE '%'"
}else if(is.string(continent) && length(continent)==1){
continent <- paste0("continent IN ('",continent,"')")
print('clause1')
}else if(is.string(continent) && length(continent) >1){
continent <- paste0("continent IN (", paste(sapply(continent, function(x) paste0("", x, "")), collapse = ", "), ")")
print('clause2')
}
if(is.string(continent) && continent==''){
continent <- "continent ILIKE '%'"
}else if(is.string(continent) && length(continent)==1){
continent <- paste0("continent IN ('",continent,"')")
print('clause1')
}else if(is.vector(continent) && length(continent) >1){
continent <- paste0("continent IN (", paste(sapply(continent, function(x) paste0("", x, "")), collapse = ", "), ")")
print('clause2')
}
if(is.string(continent) && continent==''){
continent <- "continent ILIKE '%'"
}else if(is.string(continent) && length(continent)==1){
continent <- paste0("continent IN ('",continent,"')")
print('clause1')
}else if(is.vector(continent) && length(continent) >1){
continent <- paste0("continent IN (", paste(sapply(continent, function(x) paste0("'", x, "'")), collapse = ", "), ")")
print('clause2')
}
continent <- c('Europe', 'France')
if(is.string(continent) && continent==''){
continent <- "continent ILIKE '%'"
}else if(is.string(continent) && length(continent)==1){
continent <- paste0("continent IN ('",continent,"')")
print('clause1')
}else if(is.vector(continent) && length(continent) >1){
continent <- paste0("continent IN (", paste(sapply(continent, function(x) paste0("'", x, "'")), collapse = ", "), ")")
print('clause2')
}
road_locality <- function(country="'%'", continent="'%'"){
# Connect do ROAD
con <- dbConnect(RPostgres::Postgres(), dbname = "roceeh", host="134.2.216.14", port=5432, user=rstudioapi::askForPassword("Database username"), password=rstudioapi::askForPassword("Database password"))
country <- paste0("'",country,"'")
continent <- paste0("'",continent,"'")
if(is.string(country) && country==''){
country <- "country ILIKE '%'"
}else if(is.string(country) && length(country) ==1){
country <- paste0("country IN ('",country,"')")
}else if(is.vector(country) && length(country) >1){
country <- paste0("country IN (", paste(sapply(country, function(x) paste0("'", x, "'")), collapse = ", "), ")")
}
print(country)
if(is.string(continent) && continent==''){
continent <- "continent ILIKE '%'"
}else if(is.string(continent) && length(continent)==1){
continent <- paste0("continent IN ('",continent,"')")
print('clause1')
}else if(is.vector(continent) && length(continent) >1){
continent <- paste0("continent IN (", paste(sapply(continent, function(x) paste0("'", x, "'")), collapse = ", "), ")")
print('clause2')
}
#query_locality <- "SELECT * FROM locality, geopolitical_units WHERE country=geopolitical_name AND rank=1 AND country ILIKE 'Germany' AND continent ILIKE 'Europe'"
query_locality <- "SELECT * FROM locality, geopolitical_units WHERE country=geopolitical_name AND rank=1 AND %s AND %s"
query <- sprintf(query_locality, country, continent)
print(query)
# Run the query
dat <- dbGetQuery(con, query)
}
rm(continent)
road_locality(c('France'), c('Europe'))
road_locality <- function(country="'%'", continent="'%'"){
# Connect do ROAD
con <- dbConnect(RPostgres::Postgres(), dbname = "roceeh", host="134.2.216.14", port=5432, user=rstudioapi::askForPassword("Database username"), password=rstudioapi::askForPassword("Database password"))
country <- paste0("'",country,"'")
continent <- paste0("'",continent,"'")
if(is.string(country) && country==''){
country <- "country ILIKE '%'"
}else if(is.string(country) && length(country) ==1){
country <- paste0("country IN ('",country,"')")
print('clause1')
}else if(is.vector(country) && length(country) >1){
country <- paste0("country IN (", paste(sapply(country, function(x) paste0("'", x, "'")), collapse = ", "), ")")
print('clause2')
}
print(country)
if(is.string(continent) && continent==''){
continent <- "continent ILIKE '%'"
}else if(is.string(continent) && length(continent)==1){
continent <- paste0("continent IN ('",continent,"')")
print('clause1')
}else if(is.vector(continent) && length(continent) >1){
continent <- paste0("continent IN (", paste(sapply(continent, function(x) paste0("'", x, "'")), collapse = ", "), ")")
print('clause2')
}
#query_locality <- "SELECT * FROM locality, geopolitical_units WHERE country=geopolitical_name AND rank=1 AND country ILIKE 'Germany' AND continent ILIKE 'Europe'"
query_locality <- "SELECT * FROM locality, geopolitical_units WHERE country=geopolitical_name AND rank=1 AND %s AND %s"
query <- sprintf(query_locality, country, continent)
print(query)
# Run the query
dat <- dbGetQuery(con, query)
}
road_locality('France', 'Europe')
